day013	课程回顾

1. 文件指针
	1) 文件指针不能直接操作,必须通过文件操作库函数使用
		FILE *fp = NULL;
	
	文件句柄,结构体变量,里面有一些成员,保存操作文件的一些情况(系统自动处理)
	FILE不同平台智能保证FILE是一样的,内部成员功能一样,成员名字不一样
		具体见图day013_00_文件句柄结构体.png

	//"r": 只读方式打开文件,文件不存在出错
	//"w": 只写方式打开文件,文件不存在新建文件,文件存在清空内容
	//"a": 追加方式打开文件,文件不存在新建文件,文件存在光标放在最后
	fp = fopen("./1.txt", "r");
	if(fp == NULL)
	{
		//只能打印库函数失败原因
		perror("fopen error");
	}
	
	
	
Windows和Linux文本文件的区别(不是二进制区别)	
	1. Windows平台下的文本换行符是"\r\n"
	2. Linux平台下的文本换行符是"\n"	
	
	
Windows平台下,没有指定二进制方式,以文本方式打开
	1. 写的时候,遇到"\n",自动转换为"\r\n"
	2. 读的时候,遇到"\r\n",自动转换为"\n"
	
	
为了以后方便代码移植,打开文件以二进制方式打开
Linux有没有b选项是一样的	
	
	
	
如果判断一个文本文件是Linux,Windows
	如图day014_00_判断文本文件平台.png
	
	
	
	
	
2. 格式化读写文件fprintf,fscanf(用法和printf,scanf一样)	
	如图day014_01_格式化读写文件.png
	
	
3. 按块读写文件(不局限与文本操作):fread,fwrite
	如图day014_02_按块读写文件.png
	
	
4. 随机位置读写文件:fseek,ftell,rewind
	如图day014_03_随机位置读写文件.png	
	
	
标准库函数(ANSI)操作文件,带缓冲区(提高效率)



day014	课堂记录



面向对象编程: 封装, 继承, 多态



通过一个函数修改变量的值,需要地址传递
	main()
	{
		int a;
		setA(&a);
		getA(&a);
	}


	int a;

	void setA(int x)
	{
		a = x;
	}

	int getA()
	{
		return a;
	}





1. 结构体中成员可以有变量,也可以有函数,变量在结构体内部,相当于内部的全局变量
2. 先创建结构体变量(对象),通过此变量(对象)调用成员
3. 如果函数为static函数,可以直接通过类型调用
4. 类中(结构体内部)声明函数,类外定义函数,类外定义的函数要加作用域




1. 构造函数: 主要做初始化工作,在对象创建时(窗口显示前),自动调用
2. 析构函数: 对象结束前(窗口关闭前),自动调用析构函数,做一些清理工作



1. 字符编码(中文)
	1) 给QT控件设置内容, 如果有中文, 必须使用UTF-8编码
	2) 从QT得到的字符串, 如果有中文, 编码是UTF-8
	3) 如果使用标准C函数, 如果有中文, 必须是GBK编码

2. ANSI, GBK, GB1830, GB2312(Windows的中文编码)







	